{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('#form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nconst API_KEY = '42026920-e619b387ca2127f1aff40b8e2';\nconst API_URL = 'https://pixabay.com/api/';\nconst ERROR_MESSAGE = 'Sorry, there are no images matching your search query. Please try again!';\n\nconst options = {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  animation: 250,\n  widthRatio: 0.9,\n  scaleImageToRatio: true,\n};\n\nloader.style.display = 'none';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  form.addEventListener('submit', handleSubmit);\n});\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const userInput = document.getElementById('search').value.trim();\n\n  if (!userInput) {\n    return;\n  }\n\n  loader.style.display = 'inline-block';\n  gallery.innerHTML = '';\n\n  fetch(`https://pixabay.com/api/?key=42026920-e619b387ca2127f1aff40b8e2&q=${userInput}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => response.json())\n    .then(handleResponse)\n    .catch(handleError)\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n\nfunction handleResponse(data) {\n  if (data.hits.length === 0) {\n    showError(ERROR_MESSAGE);\n  } else {\n    renderGallery(data.hits);\n  }\n}\n\nfunction renderGallery(hits) {\n  const markup = hits.map(renderGalleryItem).join('');\n  gallery.insertAdjacentHTML('afterbegin', markup);\n  const lightbox = new SimpleLightbox('.gallery a', options);\n  lightbox.refresh();\n  form.reset();\n}\n\nfunction renderGalleryItem(data) {\n  return `<li class=\"gallery-item\">\n            <a href=\"${data.webformatURL}\">\n              <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\">\n            </a>\n            <div class='comments'>\n              <p><b>Likes: </b>${data.likes}</p>\n              <p><b>Views: </b>${data.views}</p>\n              <p><b>Comments: </b>${data.comments}</p>\n              <p><b>Downloads: </b>${data.downloads}</p>\n            </div>\n          </li>`;\n}\n\nfunction handleError(error) {\n  console.error('Error fetching data:', error);\n}\n\nfunction showError(message) {\n  iziToast.error({\n    title: '',\n    backgroundColor: '#EF4040',\n    message: message,\n    position: 'topRight'\n  });\n}\n"],"names":["form","loader","gallery","ERROR_MESSAGE","options","handleSubmit","event","userInput","response","handleResponse","handleError","data","showError","renderGallery","hits","markup","renderGalleryItem","SimpleLightbox","error","message","iziToast"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAI3CC,EAAgB,2EAEhBC,EAAU,CACd,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,WAAY,GACZ,kBAAmB,EACrB,EAEAH,EAAO,MAAM,QAAU,OAEvB,SAAS,iBAAiB,mBAAoB,IAAM,CAClDD,EAAK,iBAAiB,SAAUK,CAAY,CAC9C,CAAC,EAED,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAY,SAAS,eAAe,QAAQ,EAAE,MAAM,OAErDA,IAILN,EAAO,MAAM,QAAU,eACvBC,EAAQ,UAAY,GAEpB,MAAM,qEAAqEK,CAAS,0DAA0D,EAC3I,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,CAAc,EACnB,MAAMC,CAAW,EACjB,QAAQ,IAAM,CACbT,EAAO,MAAM,QAAU,MAC7B,CAAK,EACL,CAEA,SAASQ,EAAeE,EAAM,CACxBA,EAAK,KAAK,SAAW,EACvBC,EAAUT,CAAa,EAEvBU,EAAcF,EAAK,IAAI,CAE3B,CAEA,SAASE,EAAcC,EAAM,CAC3B,MAAMC,EAASD,EAAK,IAAIE,CAAiB,EAAE,KAAK,EAAE,EAClDd,EAAQ,mBAAmB,aAAca,CAAM,EAC9B,IAAIE,EAAe,aAAcb,CAAO,EAChD,QAAO,EAChBJ,EAAK,MAAK,CACZ,CAEA,SAASgB,EAAkBL,EAAM,CAC/B,MAAO;AAAA,uBACcA,EAAK,YAAY;AAAA,gDACQA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,iCAGnDA,EAAK,KAAK;AAAA,iCACVA,EAAK,KAAK;AAAA,oCACPA,EAAK,QAAQ;AAAA,qCACZA,EAAK,SAAS;AAAA;AAAA,gBAGnD,CAEA,SAASD,EAAYQ,EAAO,CAC1B,QAAQ,MAAM,uBAAwBA,CAAK,CAC7C,CAEA,SAASN,EAAUO,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,GACP,gBAAiB,UACjB,QAASD,EACT,SAAU,UACd,CAAG,CACH"}